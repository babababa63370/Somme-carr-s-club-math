# Number Sequence Cycle Detector

## Overview

A mathematical educational tool that visualizes number sequences generated by summing the squares of digits. The application detects and highlights cycles that form when repeatedly applying this operation to numbers. Built as a single-page web application with a clean, mathematical aesthetic inspired by Linear and Notion's design principles.

## User Preferences

Preferred communication style: Simple, everyday language.

## System Architecture

### Frontend Architecture

**Framework & Build System**
- **React 18** with TypeScript for type-safe component development
- **Vite** as the build tool and development server, providing fast HMR and optimized production builds
- **Wouter** for lightweight client-side routing (single page application pattern)
- **TanStack Query** for state management and data fetching, configured with infinite stale time and no automatic refetching

**UI Component System**
- **shadcn/ui** component library built on Radix UI primitives
- **Tailwind CSS** for utility-first styling with custom design tokens
- Component configuration uses "new-york" style variant with CSS variables for theming
- Custom color system with HSL values for light/dark mode support
- Typography system using Inter (primary) and JetBrains Mono (monospace for numbers) from Google Fonts

**Design System**
- Custom spacing units (4, 6, 8, 12, 16) for consistent layout
- Progressive disclosure pattern for step-by-step calculation revelation
- Visual emphasis on cycle detection through distinct styling
- Mathematical clarity prioritized in number display (text-6xl font-mono for large numbers)
- Container-based layout with max-width constraints (max-w-4xl for main content)

**Core Calculation Logic**
- Client-side mathematical computation in `cycleDetector.ts`
- Iterative algorithm that tracks seen numbers to detect cycles
- Safety limit of 1000 iterations to prevent infinite loops
- Returns structured data including step-by-step breakdown and cycle metadata

### Backend Architecture

**Server Framework**
- **Express.js** with TypeScript running on Node.js
- ESM module system throughout the codebase
- Separate entry points for development (`index-dev.ts`) and production (`index-prod.ts`)

**Development vs Production**
- Development mode integrates Vite dev server as Express middleware for HMR
- Production mode serves pre-built static files from `dist/public`
- Development includes Replit-specific plugins (cartographer, dev banner, runtime error overlay)

**Server Structure**
- Minimal API surface (routes configured but currently unused for this client-side calculation tool)
- Request logging middleware with timestamp formatting
- JSON body parsing with raw body preservation for webhook compatibility
- Static file serving with fallback to index.html for SPA routing

**Storage Layer**
- In-memory storage implementation (`MemStorage` class)
- Interface-based design (`IStorage`) allows for future database integration
- Currently implements user CRUD operations as template
- Uses `Map` data structure for O(1) lookups

### External Dependencies

**Database & ORM**
- **Drizzle ORM** configured with PostgreSQL dialect
- **Neon Database Serverless** driver for database connectivity
- Database schema defined in `shared/schema.ts`
- Migration files output to `./migrations` directory
- Currently minimal schema (calculation results stored client-side, user schema as template)

**UI Component Libraries**
- **Radix UI** primitives for accessible, unstyled component foundations (accordion, dialog, dropdown, select, tabs, toast, tooltip, etc.)
- **Lucide React** for consistent icon system
- **class-variance-authority** for type-safe component variant management
- **cmdk** for command palette functionality
- **embla-carousel-react** for carousel components

**Form & Validation**
- **React Hook Form** for form state management
- **@hookform/resolvers** for validation integration
- **Zod** via drizzle-zod for schema validation

**Development Tools**
- **tsx** for running TypeScript in development without compilation
- **esbuild** for fast production server bundling
- **Vite plugins** for Replit integration (cartographer for file mapping, dev banner, runtime error modal)

**Session Management**
- **connect-pg-simple** for PostgreSQL-backed session store (configured but not actively used)

**Styling & Utilities**
- **Tailwind CSS** with PostCSS and Autoprefixer
- **clsx** and **tailwind-merge** for conditional class name composition
- **date-fns** for date formatting and manipulation

**Path Configuration**
- Path aliases configured in both TypeScript and Vite:
  - `@/*` maps to `client/src/*`
  - `@shared/*` maps to `shared/*`
  - `@assets/*` maps to `attached_assets/*`